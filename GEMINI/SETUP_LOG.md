# AI駆動開発フレームワーク セットアップログ

**日付:** 2025年7月30日
**ブランチ:** `feature/setup-ai-context-framework`

## 目的

AI（Gemini）がプロジェクトのコンテキスト（目的、技術ルール、作業状況）をセッション間で効率的に引き継ぎ、自律的かつ一貫性のある開発を実現するための情報アーキテクチャを設計・構築する。

## 議論と意思決定の過程

### 1. AIからの初期提案

AIは、コンテキスト管理のため、プロジェクトルートに`GEMINI`ディレクトリを新設し、以下の3ファイルを配置することを提案した。

-   `1_PROJECT_MANIFEST.md`: プロジェクトの普遍的な原則を記述する「憲法」。
-   `2_TECHNICAL_GUIDE.md`: 技術的な規約を記述する「掟」。
-   `3_WORK_LOG.md`: 動的な作業ログを記録する「作業日誌」。

### 2. 人間からのフィードバックと協議

上記提案に対し、人間（あなた）から以下の4つの重要な質問と懸念が提示された。

-   **質問1（手動変更）:** AIだけでなく人間も手動でコードを変更することは許容されるか？
-   **質問2（更新判断）:** ドキュメントの更新タイミングはAIが判断できるか？
-   **質問3（ログ肥大化）:** `WORK_LOG.md`が肥大化しないか？基幹機能とゲーム機能でログを分割すべきでは？
-   **質問4（仕様書の配置）:** ゲームの仕様書は、開発のメタデータ（ログ）とは異なり、コンテンツの一部として`games/[slug]`配下に置くべきではないか？

### 3. 協議に基づくアーキテクチャの改善と最終決定

対話を通じて、以下の通り改善案が合意され、最終的なアーキテクチャが決定した。

-   **手動変更:** 許容される。「人間とAIの協調」を原則として`1_PROJECT_MANIFEST.md`に明記する。
-   **更新判断:** AIが判断する。AIは自身のタスクに伴い、関連ドキュメントの更新を自律的に提案し、人間の承認を得て実行する。
-   **ログの分割:** ログは`GEMINI/logs/`ディレクトリを新設し、`system.log`（基幹機能）と`games/[slug].log`（個別ゲーム）に分割する。これにより、`games`ディレクトリは純粋なコンテンツのみを保持する。
-   **仕様書の配置:** 仕様書（`manifest.json`等）はゲームコンテンツの一部とみなし、従来通り`games/[slug]`配下に配置する。AIは`2_TECHNICAL_GUIDE.md`の「仕様参照ルール」に基づき、作業前にこれらを読み込む。

### 4. 最終的なアーキテクチャ

```
/GEMINI/
├── 1_PROJECT_MANIFEST.md      # 普遍的な憲法
├── 2_TECHNICAL_GUIDE.md       # 技術的な掟
├── SETUP_LOG.md               # (このファイル) セットアップ経緯
└── logs/
    ├── system.log             # 基幹機能の作業ログ
    └── games/
        └── [slug].log         # ゲームごとの作業ログ

/games/[slug]/
├── manifest.json              # ゲーム仕様
└── ...                        # ゲーム実装
```

## 実施された作業

1.  `feature/setup-ai-context-framework` ブランチを作成。
2.  上記アーキテクチャに基づき、`GEMINI`ディレクトリおよび各ファイルを日本語で作成。
3.  既存のドキュメント（`project-docs/*.md`, `rules.md`）の内容を、新しく作成した`1_PROJECT_MANIFEST.md`と`2_TECHNICAL_GUIDE.md`に統合。
4.  古いドキュメントファイル群をプロジェクトから削除し、情報ソースを`GEMINI/`に一元化。
5.  本ログファイルを作成し、一連のセットアップ作業を記録。
