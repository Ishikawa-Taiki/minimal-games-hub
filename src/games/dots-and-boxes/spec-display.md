# ドット＆ボックス システム表示仕様

## 1. 全体レイアウト
本ゲームは、プロジェクト共通の `GameLayout` コンポーネントを使用して画面を構築します。これにより、PCとモバイルデバイスで最適化されたレスポンシブデザインを自動的に提供します。

-   **PCレイアウト:** 画面左側にコントロールパネル（ステータス表示、操作ボタン）が配置され、中央にゲームボードが表示されます。
-   **モバイルレイアウト:** ゲームボードが画面全体に表示され、操作は画面右下のフローティングアクションボタン（FAB）から開くボトムシートで行います。

## 2. 難易度選択画面
ゲーム開始時には、以下の3つの選択肢を持つ画面が表示されます。このレイアウトは「神経衰弱」のものを踏襲します。

-   ボタン「かんたん」 (3x3ドット)
-   ボタン「ふつう」 (5x5ドット)
-   ボタン「むずかしい」 (7x7ドット)

## 3. ゲームボードの表示
-   ゲームボードは、難易度に応じた数のドット（点）が格子状に並んだ形で表示されます。
-   ドットとドットの間には、プレイヤーが選択するための「ライン」が配置されます。

## 4. ラインの視覚的表現
ラインの状態は、色と太さで表現されます。

-   **デフォルト状態（未選択）:**
    -   まだ誰も引いていないラインは、薄いグレーの細線で表示されます。

-   **選択可能状態（UI補助機能）:**
    -   プレイヤーがカーソルを合わせる（ホバーする）などして注目している、まだ引かれていないラインは、薄い白色で少し光るようにハイライト表示されます。これは「おしえて！」機能のON/OFFに関わらず常に有効です。

-   **選択済み状態:**
    -   プレイヤー1が引いたラインは、赤色（「◯×ゲーム」の◯の色を参考）の太線で表示されます。
    -   プレイヤー2が引いたラインは、青色（「◯×ゲーム」の×の色を参考）の太線で表示されます。

## 5. ボックス（マス）の視覚的表現
四方をラインで囲まれた正方形の領域をボックスと呼びます。

-   **未獲得状態:**
    -   まだどちらのプレイヤーにも獲得されていないボックスは、背景色なし（透明）で表示されます。

-   **獲得済み状態:**
    -   プレイヤー1が獲得したボックスは、半透明の赤色（「◯×ゲーム」の◯の背景色を参考）で塗りつぶされます。
    -   プレイヤー2が獲得したボックスは、半透明の青色（「◯×ゲーム」の×の背景色を参考）で塗りつぶされます。

## 6. ステータス表示
ゲームの状況は、`GameLayout`コンポーネントを通じて画面の適切な場所（PCではサイドバー、モバイルでは上部ヘッダー）に表示されます。

-   **手番表示:** `「プレイヤー1」のばん` のように、現在の手番のプレイヤー名を表示します。
-   **スコア表示:** `getScoreInfo`の仕組みを利用し、各プレイヤーが獲得したボックスの数を表示します。
    -   タイトル: `獲得したかず`
    -   項目1: `プレイヤー1: [スコア]`
    -   項目2: `プレイヤー2: [スコア]`

## 7. ゲーム終了時の表示
ゲームが終了すると、画面全体を覆うダイアログが表示されます。この表示は「神経衰弱」のものを踏襲します。

-   ダイアログには、勝敗の結果（「プレイヤー1のかち！」「ひきわけ」など）と、最終的なスコア（例: `プレイヤー1: 5, プレイヤー2: 4`）が表示されます。
-   ダイアログには、「もういちどあそぶ」ボタンと「トップにもどる」ボタンが表示され、プレイヤーは次のアクションを選択できます。

## 8. ヒント機能の表示
「おしえて！」機能がオンの場合にのみ、以下の視覚的ヒントが表示されます。

-   **ヒント1: 各マスの残りのライン数表示**
    -   まだ獲得されていない各ボックス内に、そのボックスを完成させるために必要な残りのライン数（4〜1）が、薄い数字で表示されます。
    -   この数字の色は、「◯×ゲーム」の潜在ライン数（potential-lines）の色を参考にします。

-   **ヒント2: プレビュー機能**
    -   プレイヤーがまだ引かれていないラインを1回選択すると、プレビュー状態になります。
    -   **獲得プレビュー:** そのラインを引くことで完成するボックスが、薄い赤色または青色（「◯×ゲーム」のリーチマス（reach-squares）の色を参考）でハイライト表示されます。
    -   **ライン数プレビュー:**
        -   プレビューによって獲得されるボックス内の残りライン数の数字が、上記のハイライト色に変化します（例: `1` → `0`）。
        -   プレビューの影響を受けない他のボックス内の数字は、ヒント1の色のまま変化しません。