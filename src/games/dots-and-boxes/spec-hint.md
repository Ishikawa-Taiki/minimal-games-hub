# ドット＆ボックス ヒント機能表示仕様

本ドキュメントは、「ドット＆ボックス」ゲームにおける「おしえて！」機能（ヒント機能）が有効な場合の、特別な表示仕様を定義します。

## 1. 各マスの残りのライン数表示
-   **ヒントID:** `remaining-lines-count`
-   **説明:**
    まだどのプレイヤーにも獲得されていない各ボックス内に、そのボックスを完成させるために必要な残りのライン数（1〜4）を数字で表示します。これにより、どのボックスが完成に近いかを視覚的に把握しやすくなります。
-   **表示仕様:**
    -   数字は、各ボックスの中央に薄い色で表示されます。
    -   ボックスがプレイヤーに獲得されると、この数字は表示されなくなります。
    -   このヒントは、「おしえて！」機能が有効な間、常に盤面に表示されます。

## 2. 手のプレビュー機能
-   **ヒントID:** `preview-move`
-   **説明:**
    まだ引かれていないラインを1回選択すると、その手を実行した場合にゲームがどう変化するかをプレビュー表示します。もう一度同じラインを選択することで、その手を確定できます。これにより、意図しない失点を防ぎ、戦略的な判断を助けます。
-   **表示仕様:**
    -   **プレビュー対象のライン:** プレイヤーが選択した未選択のラインが、特別な色でハイライトされます。
    -   **獲得できるボックスのプレビュー:** そのラインを引くことで**完成するボックスのみ**が、現在のプレイヤーの色（赤または青）で薄くハイライトされます。
    -   **残りライン数のプレビュー:**
        -   プレビュー中のラインに**隣接する**すべてのボックス（完成するか否かに関わらず）の「残りライン数」の数字が、-1された上でプレイヤーのプレビュー色に変化します。
        -   例えば、残り「3」のボックスの隣のラインをプレビューすると、その数字が「2」になり、色がプレイヤーのプレビュー色に変わります。
        -   プレビューの影響を受けない他のボックスの数字は、ヒント1で定義された薄い色のまま変化しません。

---
## 本資料で定義すべきこと
-   より高度なヒント機能（例：最適な手を提案する機能）を追加する場合、ここに新たなセクションとして定義する。