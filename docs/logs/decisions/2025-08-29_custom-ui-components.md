---
title: 共通UIコンポーネントの自作方針決定
date: 2025-08-29
author: Jules
---

## 決定事項

全ゲーム横断で利用する共通UIコンポーネントは、外部のUIライブラリに依存せず、プロジェクト独自のCSS-in-JSユーティリティ (`app/styles/StyleSheet.ts`) を用いて自作する方針を決定しました。

## 背景と目的

当初、UIコンポーネント基盤としてChakra UIの導入を検討しましたが、E2Eテスト環境で解決困難な問題が発生しました。調査の結果、Chakra UIが内部で利用するEmotionライブラリが、過去に本プロジェクトで問題を起こし排除された経緯があることが判明しました。

この問題を踏まえ、以下の目的で自作方針に切り替えました。

- **依存関係の最小化:** プロジェクトの安定性を最優先し、外部ライブラリに起因する予期せぬ問題を回避します。
- **既存技術スタックの活用:** プロジェクトで既に確立されているスタイリング手法 (`StyleSheet.create`) を踏襲し、学習コストと実装の複雑性を低減します。
- **コンポーネントの抽象化:** UIコンポーネントを適切に抽象化して `app/components/ui/` に配置することで、将来的に別のUIライブラリへ低コストで移行できる可能性を確保します。

## 導入コンポーネント

この方針に基づき、以下のコンポーネントを初期実装として作成しました。

- `PositiveButton`, `NegativeButton`: アプリケーションの主要なアクションボタン。
- `ConfirmationDialog` と `useConfirmationDialog` フック: Promiseベースで利用できる確認ダイアログ。

これらのコンポーネントは、デバッグページ (`/debug`) で動作確認が可能です。
