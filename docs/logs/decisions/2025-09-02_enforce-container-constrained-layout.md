# **意思決定: ゲームコンポーネントは親コンテナのレイアウトを破壊しない**

## **ステータス**
承認済み (2025-09-02)

## **コンテキスト**
リバーシおよび棒消しゲームにおいて、特定の画面サイズ（特にモバイル）でコンポーネントが親コンテナの境界を越えてオーバーフローし、レイアウトが崩れる問題が確認されました。これは、コンポーネント内の要素に固定の幅（`px`や`rem`）が設定されていたことが原因でした。

この問題の修正過程で、コンポーネントのレイアウトに関する設計原則を明確化する必要性が生じました。

## **意思決定**
すべてのゲームコンポーネント、およびその他のUIコンポーネントは、**自身のレイアウトが親コンテナによって制約されることを前提として設計されなければならない**、という原則を定めます。

具体的には、以下のルールに従います。
1.  **自己完結性:** コンポーネントは、そのコンポーネントが配置される親のサイズに適応できるように、レスポンシブでなければなりません。
2.  **固定サイズの回避:** コンポーネントのトップレベルのコンテナで、固定の幅や高さ（`px`、`rem`など）を使用してはなりません。代わりに、`width: 100%`、`max-width`、`flex-grow` などの相対的な単位やプロパティを使用し、親コンテナが提供するスペースに収まるようにします。
3.  **親レイアウトへの非干渉:** コンポーネントは、自身のスタイルによって親コンテナや兄弟コンポーネントのレイアウトを破壊するようなスタイル（例: 不適切な`position: absolute`や負のマージン）を持つべきではありません。

この原則により、各コンポーネントは再利用可能で予測可能になり、どのようなレイアウト構造に配置されても、全体のレイアウトを破壊することなく正しく表示されることが保証されます。

## **結果**
この決定に基づき、リバーシと棒消しゲームのスタイルが修正されました。この原則は`docs/rules/technical-guide-common-components.md`にも反映され、今後、新しいコンポーネントを作成する際や、既存のコンポーネントを修正する際には、この設計原則に従う必要があります。
