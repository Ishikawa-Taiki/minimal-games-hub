# 決定ログ: 共通UIコンポーネントのアーキテクチャ設計

**日付**: 2025-08-30

## 決定事項

1.  **UIライブラリの不採用とカスタムコンポーネントの採用**:
    -   当初、`chakra-ui`のような既存のUIライブラリの導入を検討したが、過去に`emotion`の依存関係に起因するE2Eテストの不安定化問題が発生していたため、ライブラリの導入は見送る。
    -   依存関係を最小限に抑え、プロジェクトの安定性と長期的なメンテナンス性を確保するため、必要なUIコンポーネント（ボタン、ダイアログ等）はすべてカスタムで実装する。

2.  **`BaseButton`コンポーネントアーキテクチャの導入**:
    -   すべてのボタンの一貫性を保証するため、共通の機能（サイズ、無効状態、クリックフィードバック、デバウンス等）を持つ`BaseButton`コンポーネントを基盤として設計する。
    -   `PositiveButton`や`NegativeButton`といった意味論的なコンポーネントは、`BaseButton`をラップする形で実装し、コードの可読性とUIの一貫性を高める。

3.  **`DialogProvider`によるダイアログ管理の一元化**:
    -   ダイアログの表示・非表示の状態管理を各コンポーネントで行うのではなく、`DialogProvider`と`useDialog`フックを用いた一元的な管理方式を採用する。
    -   これにより、`alert()`や`confirm()`といったPromiseベースのシンプルなAPIで、どのコンポーネントからでもダイアログを呼び出すことが可能になり、コンポーネントの実装を簡潔に保つ。

## 背景と根拠

-   過去の技術的負債（`emotion`との相性問題）を回避し、将来的な依存関係のリスクを低減することが、プロジェクトの健全性にとって最優先であると判断した。
-   `BaseButton`アーキテクチャは、今後新しい種類のボタンが追加された場合でも、一貫したUI/UXを容易に維持するための拡張可能な設計である。
-   `DialogProvider`は、ReactのContext APIを活用した一般的な設計パターンであり、状態管理の複雑さを大幅に軽減し、開発者体験を向上させる。

## 代替案

-   **UIライブラリの導入**: 開発速度は向上するが、過去の問題が再発するリスクと、不要な依存関係が増えるデメリットがあったため、不採用とした。

## 関連ドキュメント

-   [UIコンポーネントカタログ](/docs/rules/technical-guide-ui-catalog.md)
