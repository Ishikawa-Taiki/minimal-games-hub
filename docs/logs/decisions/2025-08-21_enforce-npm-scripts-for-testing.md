# 決定: テスト実行は `npm` スクリプト経由を厳守する

## 課題
AI開発エージェントが `playwright` コマンドを直接実行した際に、GUIの待機処理などが原因で予期せぬフリーズやタイムアウトが発生する問題が確認された。
これにより、特にCI/CD環境やヘッドレス環境でのテストの安定性が損なわれるリスクがあった。

## 決定
今後の開発においては、ユニットテストおよびE2Eテストの実行は、必ず `package.json` に定義された `npm` スクリプト (`npm run test`, `npm run e2e`) 経由で行うことを**厳守**する。

`technical-guide-development-workflow.md` に記載されているルールは、単なる推奨ではなく、プロジェクトの安定性を保つための必須要件として扱う。

## 理由
`npm` スクリプトを経由することで、Playwrightのブラウザ設定や、その他の環境変数など、プロジェクトで意図した実行環境が確実に適用される。
これにより、ローカル環境とCI環境での動作差異を最小限に抑え、テストの再現性と信頼性を高めることができる。
AIエージェントがコマンドを直接実行する際の、環境差異による潜在的な問題を未然に防ぐことを目的とする。
