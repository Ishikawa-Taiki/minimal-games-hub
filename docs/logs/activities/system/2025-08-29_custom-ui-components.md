## 2025-08-29: 共通UIコンポーネント基盤の構築（自作コンポーネント）

本日のタスクでは、全ゲームで共通して利用可能なUIコンポーネントライブラリの基盤を、プロジェクト独自のスタイリング手法を用いて構築しました。

### 主な変更点

1.  **Chakra UIの導入中止**:
    -   当初導入を試みたChakra UIが、E2Eテスト環境で解決困難な問題を引き起こしたため、関連ライブラリ（`@chakra-ui/react`, `@emotion/react`等）をすべてアンインストールしました。
    -   設定ファイル (`next.config.ts`, `app/layout.tsx`) への変更もすべて元に戻しました。

2.  **カスタムUIコンポーネントの作成**:
    -   汎用コンポーネントの置き場として `app/components/ui/` ディレクトリを利用し、既存の `StyleSheet` ユーティリティを用いて以下のコンポーネントを実装しました。
        -   `PositiveButton`, `NegativeButton`: アプリケーションの標準的なボタンスタイルを提供します。
        -   `ConfirmationDialog`: 2択の確認ダイアログ。
        -   `AlertDialog`: 1ボタンのアラートダイアログ。

3.  **ダイアログ用の汎用フック作成**:
    -   ユーザーからのフィードバックに基づき、ダイアログをより直感的に利用できるよう、`useDialog` フックを `app/hooks/` に作成しました。
    -   これにより、Promiseベースで `confirm()` と `alert()` の2種類のダイアログを簡単に呼び出せるようになりました。
    -   `DialogProvider` をルートレイアウトに配置し、アプリケーション全体でフックを利用可能にしました。

4.  **デバッグページの更新**:
    -   `/debug` ページを更新し、新たに作成したカスタムコンポーネントと `useDialog` フックの動作サンプル、およびその使い方を説明するドキュメントを追加しました。

5.  **ドキュメントの更新**:
    -   自作コンポーネントの方針を記録するため、`docs/logs/decisions` に新たな意思決定ログを追加しました。
    -   共通コンポーネントの利用規約 (`docs/rules/technical-guide-common-components.md`) を、新しいカスタムコンポーネントとダイアログシステムの仕様に合わせて更新しました。

### 今後の影響

-   今後のUIコンポーネント開発は、原則として `app/components/ui/` に集約し、プロジェクト独自の `StyleSheet` ユーティリティを基盤として構築します。
-   各ゲーム開発者は、UI部品を個別に実装するのではなく、これらの共通コンポーネントを積極的に利用することが推奨されます。
