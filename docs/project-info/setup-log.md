# セットアップログ (Setup Log)

このドキュメントは、プロジェクトのセットアップや重要な技術的意思決定の経緯を記録する議事録です。

---

## 2025-07-31: GitHub Pagesのパス問題と動的ルーティングの実装

-   **課題:** GitHub Pages (`https://<user>.github.io/<repo>/`) にデプロイした際、トップページからのゲームへのリンク (`/games/tictactoe`) が404エラーになる問題が発生。
-   **原因:** Next.jsが生成するパスがリポジトリ名 (`/minimal-games-hub`) を考慮していないため。
-   **意思決定と実装:**
    1.  `next.config.ts` に `basePath` と `assetPrefix` を設定することを決定。
    2.  ローカル開発環境 (`npm run dev`) に影響を与えないよう、`process.env.NODE_ENV === 'production'` の場合にのみこれらの設定が有効になるように実装した。
    3.  将来の拡張性を考慮し、トップページのゲームリストをハードコードから、`games` ディレクトリ配下の `manifest.json` を動的に読み込んで生成する方式に変更した。

---

## 2025-07-31: AIとの協業ワークフローの明確化

-   **課題:** AIがプロジェクトルール（特にドキュメントの自律的更新）を遵守しないケースがあり、人間からの指摘に依存していた。
-   **原因:** AIの責務と人間の責務の境界が曖昧で、責任の所在が不明確だったため。
-   **意思決定と実装:**
    1.  `docs/ai-workflow/2-technical-guide.md` に「ドキュメントの所有権と更新責務」に関する詳細なルールを追加。
    2.  各ドキュメントについて、AIと人間の責任を明確に分離し、「どちらかが気づいたら対応する」といった曖昧な表現を排除した。
    3.  AIが新しいルールを追加・変更する際に、既存ルールとの整合性を自己検証するための「整合性チェックリスト」を導入し、ルール自体のメンテナンス性向上を図った。
    4.  人間がAIに指示を出す際の開始プロンプトを改善し、AIにルール遵守を強く意識させる仕組みを `human-guide.md` に導入した。

---
