# 技術ガイド: Spec Kitの統合

このドキュメントは、AI駆動開発ワークフローを促進するために、`minimal-games-hub`プロジェクトへのSpec Kitの統合について概説します。

## 1. 概要

Spec Kitは、AIコーディングエージェントを開発プロセス全体でガイドすることにより、仕様駆動開発（SDD）を可能にするために設計されたツールキットです。仕様、実装計画、および実行可能なタスクの作成を支援します。

## 2. インストールとセットアップ

Spec Kitは、その依存関係を管理するためにPython仮想環境を使用してプロジェクトに統合されており、グローバルなPythonインストールとの競合がないことを保証します。

### 前提条件

- Python 3.11+
- Node.js (`npm`スクリプト用)
- Git

### 自動セットアップ

Spec Kitの主要なセットアップは、`package.json`内の`postinstall`スクリプトを介して自動化されています。`npm install`を実行すると、以下の手順が実行されます。

1.  **Python仮想環境の作成:** プロジェクトルートにPython仮想環境（`.venv`）が作成されます。
2.  **`uv`のインストール:** `uv`パッケージマネージャーが仮想環境にインストールされます。
3.  **`specify-cli`のインストール:** `specify-cli`ツール（`github/spec-kit`リポジトリから）が仮想環境にインストールされます。

### 手動初期化（必要な場合）

`.venv`またはSpec Kitファイルが削除された場合、以下のコマンドを実行してSpec Kitを再初期化できます。

```bash
npm install
.venv/bin/specify init --here --ai gemini
```

`npm install`コマンドは`.venv`を再作成し、`specify-cli`をインストールします。その後、`specify init --here --ai gemini`コマンドは、プロジェクトルートに必要な`.gemini`および`.specify`ディレクトリとファイルを再作成します。

## 3. 使用方法

インストール後、`spec` npmスクリプトを使用してSpec Kitと対話できます。

```bash
npm run spec -- <command> [options]
```

例えば、Spec Kitのインストールを確認するには：

```bash
npm run spec -- check
```

Gemini CLIで利用可能な`/`コマンドのリストについては、プロジェクトルートの`GEMINI.md`ファイルを参照してください。

## 4. リモートAIアシスタントに関する決定

現在、このプロジェクトは、Spec KitのリモートAIアシスタント（例：外部認証や特定のクラウド構成を必要とするもの）との統合を**サポートしていません**。

**この決定の理由:**

-   **公開リポジトリの性質:** 公開リポジトリであるため、リモートAIサービス用の認証情報や複雑な認証メカニズムを公開することは望ましくありません。
-   **認証の複雑さ:** さまざまなリモートAIアシスタントの認証を統合および管理することは、開発環境のセットアップとメンテナンスに大きな複雑さをもたらします。
-   **ローカル/CLIエージェントへの焦点:** 現在の焦点は、広範な外部構成を必要とせずに既存の開発環境内で動作できるローカルまたはCLIベースのAIエージェント（Gemini CLIなど）を活用することです。

この決定は、プロジェクトのセットアップを合理化し、安全性を確保し、統合されたAI機能を備えたローカル開発の使いやすさを優先することを目的としています。
