# プロジェクト概観 (Project Overview)

本ドキュメントは、このリポジトリの全体的な構造と、各ディレクトリやファイルが担う役割についての期待値を定義します。
開発者やAIエージェントがプロジェクトの全体像を素早く理解し、一貫性を保ちながら開発を進めるための基準情報となることを目的としています。

## 本ドキュメントの期待値

- **全体像の提供:** 粗い粒度でプロジェクトの構造を視覚的に示し、どこに何があるのかを把握しやすくします。
- **判断基準:** 新しいファイルを追加する際や、既存のコードを変更する際に、適切な配置場所を判断するための指針となります。
- **自己言及:** このドキュメント自体も、プロジェクトの構造を定義する情報として `docs/rules/` に配置されることで、ドキュメント管理のルールを自己言及的に示しています。

より詳細な情報が必要な場合は、各ディレクトリ配下にある専門のドキュメント（例: `technical-guide-application-architecture.md`）を参照してください。

## ディレクトリ構造（俯瞰レベル）

```
.
├── .github/      # CI/CDワークフローなどのGitHub設定
├── .husky/       # Gitフック（pre-commit, pre-pushなど）
├── docs/         # プロジェクト関連ドキュメント
│   ├── logs/     # 意思決定ログやアクティビティログ
│   └── rules/    # プロジェクトのルールや技術ガイド
├── public/       # 静的アセット
│   └── games/    # 各ゲームの公開アセット（manifest.json, 画像など）
├── scripts/      # 開発補助用のスクリプト
├── src/          # アプリケーションのソースコード
│   ├── app/      # Next.js App Router（UI統合とルーティング）
│   ├── core/     # 汎用的なUIコンポーネント、フック、型定義など
│   └── games/    # 各ゲーム固有のロジックとUI
├── tests/        # プロジェクト横断的なE2Eテスト
├── package.json  # プロジェクトの依存関係とスクリプト定義
└── tsconfig.json # TypeScriptの設定ファイル
```

## 各ディレクトリの詳細説明

### ルートディレクトリ

- **`.github/`**: GitHub Actionsを用いたCI/CDワークフロー定義などを格納します。
- **`.husky/`**: `pre-commit`や`pre-push`などのGitフックを管理します。コミット前にリンターやテストを自動実行し、コード品質を維持します。
- **`docs/`**: プロジェクトに関連する全てのドキュメントを格納します。
    - **`logs/`**: AIエージェントや開発者の意思決定の経緯（`decisions`）や、タスクの実行記録（`activities`）を時系列で保存します。
    - **`rules/`**: コーディング規約、アーキテクチャ方針、テスト戦略など、プロジェクトの普遍的なルールを定義したドキュメントを格納します。
- **`public/`**: 画像、フォント、`manifest.json`など、ビルドプロセスを経ずに直接配信される静的アセットを格納します。
    - **`games/`**: 各ゲームの `manifest.json` や画像アセットなど、公開が必要なファイルをゲームごとに分類して格納します。
- **`scripts/`**: ライセンス情報の自動更新など、開発ワークフローを補助するユーティリティスクリプトを格納します。
- **`tests/`**: プロジェクト全体にまたがる横断的なE2E（エンドツーエンド）テストを格納します。特定のゲームに閉じない、共通的な挙動（例: トップページのナビゲーション）などを検証します。

### `src/` ディレクトリ

アプリケーションの全てのソースコードを格納し、以下の3層のレイヤー構造で管理されます。依存関係は常に一方向（`app` → `games` → `core`）でなければなりません。

- **`src/app/` (UI統合・ルーティング層)**
    - **役割**: Next.jsのApp Routerに基づき、アプリケーション全体のエンドポイントとUI統合を担当します。グローバルなレイアウト (`layout.tsx`) や各ゲームページのコンテナ (`/games/[slug]/page.tsx`) を定義し、`games`と`core`の機能を組み合わせて最終的なWebページを構築します。
    - **原則**: `games`層と`core`層に依存します。

- **`src/games/` (ゲーム実装層)**
    - **役割**: 個別のゲーム実装を格納します。各ゲームは自身の名前を持つサブディレクトリ（例: `reversi/`）で管理されます。
    - **構成**: ゲーム固有のUIコンポーネント (`index.tsx`)、UIに依存しないコアロジック (`core.ts`)、状態管理フック (`useReversi.ts`など)、スタイル (`styles.ts`)、仕様書 (`spec-*.md`)、およびE2Eテスト (`e2e/`) が含まれます。
    - **原則**: `core`層にのみ依存します。`app`層には依存しません。

- **`src/core/` (汎用基盤層)**
    - **役割**: プロジェクト全体で再利用可能な、特定のゲームロジックに依存しない基盤部品を格納します。
    - **構成**: 共有UIコンポーネント（`components/`）、共有カスタムフック（`hooks/`）、共有の型定義（`types/`）などが含まれます。
    - **原則**: 他のどのレイヤーにも依存しない、完全に自己完結したモジュールです。
