# リバーシ システム仕様

## 1. システム概要
- 8x8の盤面でリバーシをプレイできるWebアプリケーションです。
- プレイヤーは交互に石を置き、ゲームのルールに従って石が自動的にひっくり返ります。
- ゲームの進行状況（現在のスコア、手番など）が表示されます。
- ゲーム終了時には、勝敗結果が表示されます。

## 2. データ構造
- **`board`**: `(Player | null)[][]` (8x8の二次元配列)
  - `Player`: 'BLACK' | 'WHITE'
  - `null`は空きマスを表します。
- **`currentPlayer`**: `Player`
  - 現在の手番のプレイヤーを表します。
- **`scores`**: `{ BLACK: number; WHITE: number }`
  - 各プレイヤーの現在の石の数を保持します。
- **`gameState`**: 'PLAYING' | 'SKIPPED' | 'GAME_OVER'
  - ゲームの進行状態を表します。

## 3. ユーザーインタラクション
- プレイヤーは、盤上の空きマスをクリックすることで石を置きます。
- 石を置けるマスには、ひっくり返せる石の数が薄く表示されます。
- 無効なマス（石を置けないマス）をクリックしても、何も起こりません。

## 4. ゲームロジック
- **石を置く処理:**
  1. クリックされたマスが有効か（石を置けるか）を判定します。
  2. 有効な場合、そのマスに現在のプレイヤーの石を置きます。
  3. 挟んだ相手の石をすべてひっくり返します。
  4. 手番を相手プレイヤーに交代します。
- **有効なマスの判定:**
  - 盤上のすべての空きマスに対して、8方向（縦、横、斜め）をチェックし、相手の石を1つ以上挟んで自分の石があるかを判定します。
- **パスの処理:**
  - 現在のプレイヤーが石を置けるマスがない場合、手番が自動的に相手に移ります（`gameState`が`SKIPPED`になります）。
- **ゲーム終了判定:**
  - 以下のいずれかの条件でゲーム終了となります。
    1. 盤上のすべてのマスが埋まった場合。
    2. 両プレイヤーとも石を置けるマスがなくなった場合。
- **勝敗判定:**
  - ゲーム終了時に、石の数が多いプレイヤーを勝者とします。

## 5. 描画と表示
- 盤面は8x8のグリッドで表示されます。
- 各マスには、黒、白、または空きマスが表示されます。
- 石を置けるマスには、ひっくり返せる石の数が薄い数字で表示されます。
- 石がひっくり返る際には、一つずつコインが回転するようなアニメーションで表現されます。
- 現在のスコア（白と黒の石の数）が常に表示されます。
- ゲーム終了時には、勝敗結果（「黒の勝ち」「白の勝ち」「引き分け」）がモーダルなどで表示されます。
