# Gemini開発エージェントへの指示書

このファイルは、本プロジェクトで開発を担当するGemini開発エージェントに対する永続的な指示を記述します。
**セッションを開始する際は、必ずこのファイルの内容を最初に読み込み、全ての指示に厳密に従ってください。**

## ３つの原則

1.  **ドキュメントが全ての源泉:**
    プロジェクトのルール、アーキテクチャ、決定事項は全て `docs` ディレクトリにあります。
    作業に着手する前、および作業中に疑問が生じた際は、必ず関連ドキュメントを熟読し、理解を深めてください。

2.  **品質を速度より優先:**
    コードの品質、テスト、ドキュメントとの一貫性を何よりも重視します。
    多少時間がかかっても、決まっているルールには着実に従い、品質が向上する選択をしてください。

3.  **対話を重視:**
    指示が不明瞭な場合や、既存のルールと矛盾する指示をされた場合は、自己判断で進めずに必ず確認を求めてください。
    また、複数の課題が提示された場合は、それらを整理し、優先順位を提案し、合意を得てから作業に着手してください。

---

## 前提として理解すべき主要ドキュメント

AIは、セッション開始時や、プロジェクトの根幹に関わる判断を行う際は、**必ず**以下のドキュメントを参照し、その内容を前提として行動すること。

-   **プロジェクト憲法 (`docs/rules/project-manifest.md`)**
    -   **役割:** プロジェクト全体の目的、哲学、ビジョン、そして普遍的な原則を定義します。
    -   **前提:** いかなる作業においても、このドキュメントに記載された原則を常に把握し、遵守すること。

-   **技術ガイド - 開発ワークフロー (`docs/rules/technical-guide-development-workflow.md`)**
    -   **役割:** 開発プロセス全体におけるAIと人間の具体的な行動規範、品質保証プロセスを定義します。
    -   **前提:** 開発上の全てのアセット（コード、ドキュメント等）は、このドキュメントに記載されたワークフローを前提として作成・管理されること。

---

## 主要ドキュメント一覧

本プロジェクトの開発において参照すべき主要なドキュメントと、その役割を以下に示します。

-   **人間向けガイド (`docs/rules/human-developer-guide.md`)**
    -   **役割:** 人間がAIとの協業をスムーズに進めるための手引書。
    -   **参照トリガー:** 人間がAIに指示を出す際、またはAIが人間の指示を解釈する際、**必ず**このドキュメントを参照し、記載されたワークフローと原則を遵守すること。

-   **技術ガイド - セットアップと環境 (`docs/rules/technical-guide-setup-and-environment.md`)**
    -   **役割:** 開発環境のセットアップ、プロジェクトの実行方法、使用技術、サポート対象環境に関する技術情報を提供します。
    -   **参照トリガー:** 開発環境をセットアップする際、またはビルドや実行方法を確認する際は、**必ず**このドキュメントを参照し、記載された手順と環境要件を遵守すること。

-   **技術ガイド - アプリケーションアーキテクチャ (`docs/rules/technical-guide-application-architecture.md`)**
    -   **役割:** アプリケーション全体の構造、ゲーム実装の共通ルール、技術的な設計原則を定義します。
    -   **参照トリガー:** 新しいゲームを開発する際、または既存ゲームの構造を変更する際は、**必ず**このドキュメントを参照し、記載されたアーキテクチャと原則を遵守すること。

-   **技術ガイド - ドキュメント標準 (`docs/rules/technical-guide-documentation-standards.md`)**
    -   **役割:** ドキュメント作成・更新に関する具体的なルールとガイドラインを定義します。
    -   **参照トリガー:** 新しいドキュメントを作成する際、または既存ドキュメントを更新する際は、**必ず**このドキュメントを参照し、記載された標準とルールを遵守すること。

-   **技術ガイド - ログ管理 (`docs/rules/technical-guide-log-management.md`)**
    -   **役割:** プロジェクトにおけるログの管理とAIの責務について定義します。
    -   **参照トリガー:** ログを記録する際、またはログの管理ルールを確認する際は、**必ず**このドキュメントを参照し、記載されたルールを遵守すること。

-   **技術ガイド - プロジェクトアセット所有権と更新責務 (`docs/rules/technical-guide-project-asset-ownership.md`)**
    -   **役割:** プロジェクトにおけるドキュメントを含む全てのアセットの所有権と更新責務について定義します。
    -   **参照トリガー:** ドキュメントやコードの更新責務を確認する際、またはプロジェクトアセットの所有権に関する原則を理解する際は、**必ず**このドキュメントを参照し、記載された原則を遵守すること。

-   **技術ガイド - 用語集 (`docs/rules/technical-guide-terminology.md`)**
    -   **役割:** ゲーム全体で使用されるUIテキストの一貫性を保つための用語を定義します。
    -   **参照トリガー:** UIのテキストを作成または変更する際は、**必ず**このドキュメントを参照し、記載された用語を遵守すること。

-   **活動ログ (`docs/logs/activities/`)**
    -   **役割:** プロジェクトの具体的な作業内容が時系列で記録されています。システム全体に関わる作業と、特定のゲームに関する作業に分かれています。
    -   **参照トリガー:** 過去の具体的な作業内容を確認する際は、このドキュメントを参照すること。

-   **意思決定ログ (`docs/logs/decisions/`)**
    -   **役割:** プロジェクトの重要な意思決定の理由と背景が記録されています。
        -   **参照トリガー:** 重要な設計判断や方針決定の経緯を確認する際、**またはAIが問題解決に詰まった際、特定の技術課題に直面した際。** この場合、`technical-guide-development-workflow.md`を参照した後、過去の類似問題の解決経緯を確認するために参照すること。

---
この指示書は、プロジェクトの進行に合わせて更新される可能性があります。常に最新の内容を確認してください。
この原則に基づき、常にプロジェクト全体の整合性を保つように努めてください。
