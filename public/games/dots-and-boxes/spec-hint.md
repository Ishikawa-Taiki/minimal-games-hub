# ヒント機能仕様書: ドット＆ボックス

本ドキュメントは、「ドット＆ボックス」の「おしえて！」機能（ヒント機能）に関する仕様を定義します。
ヒント機能は、コントロールパネルの「おしえて！」スイッチがONの場合にのみ有効になります。

## 各マスの残りのライン数表示

-   **ID:** `remaining-lines-count`
-   **説明 (Description):**
    まだ獲得されていない各ボックス（マス）について、そのボックスを完成させるために必要な残りのライン数を表示します。これにより、あと何手でボックスが完成するかを視覚的に把握しやすくなります。
-   **表示仕様 (Display Specification):**
    -   未獲得の各ボックスの中央に、`4`から`1`までの数字を薄い灰色で表示します。
    -   この数字は、そのボックスの周囲にある未描画のラインの数と一致します。
    -   ボックスがプレイヤーに獲得されると、この数字は非表示になります。
    -   表示色の詳細は `spec-display.md` を参照してください。

## プレビュー機能

-   **ID:** `move-preview`
-   **説明 (Description):**
    プレイヤーがラインを選択（1回目のクリック）した際に、その手を選択した場合にゲームがどのように変化するかを事前に表示します。これにより、手番を確定する前に、その選択がもたらす結果（特にボックスの獲得）をプレビューできます。
-   **表示仕様 (Display Specification):**
    -   この機能は、`spec-action.md` で定義された2段階クリックの1回目で行われます。
    -   **獲得予定マスのハイライト:** そのラインを引くことで完成するボックスがある場合、そのボックスを現在のプレイヤーに応じたプレビュー色（薄い赤または青）でハイライト表示します。
    -   **残ライン数の事前表示:** そのラインを引くことで、隣接するマスの「残りライン数」が変化する場合、そのマスの数字をプレビュー色（薄い赤または青）で表示します。変化しないマスの数字は、元の色のままです。
    -   表示色の詳細は `spec-display.md` を参照してください。